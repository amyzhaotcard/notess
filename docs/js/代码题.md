# ä»£ç é¢˜

## ä¸‹é¢çš„ä»£ç è¾“å‡ºä»€ä¹ˆï¼Œæ€ä¹ˆè¾“å‡ºæ­£å¸¸

```javascript
for (var i = 0; i < 10; i++) {
  setTimeout(function () {
    console.log(i);
  }, 1000);
}
```

è¾“å‡ºç»“æœï¼š10 ä¸ª 10

æ–¹æ³•ä¸€ï¼šåˆ©ç”¨é—­åŒ…

```javascript
for (var i = 0; i < 10; i++) {
  (function (j) {
    setTimeout(function () {
      console.log(j);
    }, 1000);
  })(i);
}
```

æ–¹æ³• 2ï¼šå°† var æ”¹ä¸º letï¼Œ ä½¿ç”¨ es6 è¯­æ³•

```javascript
for (let i = 0; i < 10; i++) {
  setTimeout(function () {
    console.log(i);
  }, 1000);
}
```

var æ˜¯å…¨å±€ä½œç”¨åŸŸï¼›let æ˜¯å—çº§ä½œç”¨åŸŸï¼Œæ¯æ¬¡å¾ªç¯çš„æ—¶å€™éƒ½ä¼šé‡æ–°åˆ›å»ºå˜é‡

## æ•°ç»„ä¸­åˆ é™¤ä¸€ä¸ªæŒ‡å®šä¸‹æ ‡å…ƒç´ çš„æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªæ–°æ•°ç»„

è¾“å…¥ [1,2,3,4,5] ï¼Œåˆ é™¤ä¸‹æ ‡ä¸º 3 çš„å…ƒç´ ï¼Œè¿”å›æ–°æ•°ç»„

- splice

```javascript
let result = [1, 2, 3, 4, 5];
result.splice(3, 1);
console.log(result); // [1, 2, 3, 5]
```

- filter

```javascript
let a = [1, 2, 3, 4, 5];
let result = a.filter((item, index) => {
  return index !== 3;
});
console.log(result); // [1, 2, 3, 5]
```

- reduce

```javascript
let a = [1, 2, 3, 4, 5];
const result = a.reduce((acc, item, index) => {
  if (index !== 3) {
    return acc.concat(item);
  }
  return acc;
}, []);
console.log(result); // [1, 2, 3, 5]
```

- delete

```javascript
let result = [1, 2, 3, 4, 5];
delete result[3];
console.log(result); // [1, 2, 3, empty, 5]
```

- å¾ªç¯

```javascript
let a = [1, 2, 3, 4, 5];
let result = [];
a.forEach((item, index) => {
  if (index !== 3) {
    result.push(item);
  }
});
console.log(result);
```

## å®ç°ä¸€ä¸ªä¿¡æ¯è„±æ•çš„æ–¹æ³•

```javascript
/**
 * å®ç°ä¸€ä¸ªä¿¡æ¯è„±æ•çš„æ–¹æ³•ï¼Œ å¦‚ï¼šæ‰‹æœºå·ä¿¡æ¯è„±æ• 15924167134 -> 159****7134, å¯ä»¥è®¾ç½®è„±æ•çš„èµ·å§‹ä½ç½®ï¼Œ
 * å¹¶è€ƒè™‘å¦‚ä½•è§£å†³emojiç­‰ç‰¹æ®Šå­—ç¬¦ã€‚
 */
// å“ˆå“ˆå“ˆğŸ˜ğŸ˜ğŸ˜ -> å“ˆå“ˆ***ğŸ˜

æ–¹æ³•ä¸€ï¼š

function parser(str, start, end) {
  // emojiè¡¨æƒ…å ç”¨çš„ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦é•¿åº¦
  // Array.fromè¿™ä¸ªæ–¹æ³•èƒ½å¤Ÿå°†ç±»æ•°ç»„è½¬æ¢ä¸ºçœŸå®çš„æ•°ç»„ï¼Œæ¯”å¦‚NodeList, argumentç­‰ï¼ŒåŒæ ·ï¼Œä¹ŸåŒ…æ‹¬å­—ç¬¦ä¸²ã€‚
  // console.log(Array.from('å“ˆå“ˆå“ˆğŸ˜ğŸ˜ğŸ˜')) çš„æ‰“å°ç»“æœä¸ºï¼š["å“ˆ", "å“ˆ", "å“ˆ", "ğŸ˜", "ğŸ˜", "ğŸ˜"]
  let tempStr = ''
  for (let i = start; i < end; i++) {
    tempStr += '*'
  }
  return (
    Array.from(str).slice(0, start).join("") +
    tempStr +
    Array.from(str).slice(end).join("")
  );
}
console.log(parser("15924167134", 3, 7));
console.log(parser("å“ˆå“ˆå“ˆğŸ˜ğŸ˜ğŸ˜", 2, 5));


æ–¹æ³•äºŒï¼š

const astralRange = /\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]?|[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g
function parser(str, start, end) {
  const strArray = str.match(astralRange) || []
  for (let i = start; i < end; i++) {
    strArray[i] = '*'
  }
  return strArray.join('')
}
parser('123ğŸ˜€1ï¸âƒ£ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦', 1, 6)
```

## å®ç° getValue å‡½æ•°æ¥è·å– path å¯¹åº”çš„å€¼

```javascript
/**
 * å®ç° getValue å‡½æ•°æ¥è·å–pathå¯¹åº”çš„å€¼
 */

// å¯ä»¥å­—ç¬¦ä¸²åˆ†å‰²ï¼Œç„¶åé€’å½’å–å€¼

var object = { a: [{ b: { c: 3 } }] }; // path: 'a[0].b.c'
var array = [{ a: { b: [1] } }]; // path: '[0].a.b[0]'

function getValue(obj, path, defaultValue) {
  let splitArr = path.split("."); // åˆ†å‰²æˆå­—ç¬¦ä¸²æ•°ç»„  ["a[0]", "b", "c"]

  let strResultTotal = [];
  for (let [index, item] of splitArr.entries()) {
    console.log(item);
    if (item.indexOf("[") !== -1) {
      let strResult = item.split("[");
      if (strResult[0] !== "") {
        strResultTotal.push(strResult[0]);
      }
      for (let i = 1; i < strResult.length; i++) {
        strResult[i] = strResult[i].replace("]", "");
        strResultTotal.push(strResult[i]);
      }
    } else {
      strResultTotal.push(item);
    }
  }
  console.log(strResultTotal); // ["a", "0", "b", "c"]
  let result = [];
  result[0] = obj[strResultTotal[0]];
  console.log(result);
  for (let [index, item] of strResultTotal.entries()) {
    if (
      typeof result[index] === "object" &&
      result[index][strResultTotal[index + 1]]
    ) {
      result[index + 1] = result[index][strResultTotal[index + 1]];
    } else if (
      typeof result[index] !== "object" &&
      !strResultTotal[index + 1]
    ) {
      return result[index];
    } else {
      return defaultValue;
    }
  }
  return result[result.length - 1];
}

console.log(getValue(object, "a[0].b.c", 0)); // è¾“å‡º3
console.log(getValue(array, "[0].a.b[0]", 12)); // è¾“å‡º 1
console.log(getValue(array, "[0].a.b[0].c", 12)); // è¾“å‡º 12
```

## å®ç°ä¸€ä¸ªå¯¹è±¡æ·±æ‹·è´çš„æ–¹æ³•

```javascript
/**
 * å®ç°ä¸€ä¸ªå¯¹è±¡æ·±æ‹·è´çš„æ–¹æ³•ï¼Ÿå°½å¯èƒ½è€ƒè™‘ç‰¹æ®Šæƒ…å†µï¼Œè€ƒè™‘ä¸‹å¾ªç¯å¼•ç”¨ï¼Œé€’å½’çˆ†æ ˆçš„é—®é¢˜ï¼Ÿ
 */

function deepCopy(obj) {
  // ...
}
```
