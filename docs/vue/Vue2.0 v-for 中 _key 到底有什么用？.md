# Vue2.0 v-for 中 :key 到底有什么用？

当 Vue.js 用 v-for 正在更新已渲染过的元素列表时，它默认用 “就地复用” 策略 。

比如有一个数组 [1,2,3], 当要删除 2 并且没有 key 时，

- 首先对比 1 和 1，发现「1 没变」；然后对比 2 和 3，发现「2 变成了 3」；最后对比 undefined 和 3，发现「3 被删除了」。
- 所以计算机的结论是：「2 变成了 3」以及「3 被删除了」。
- 【1】没变，所以就地复用 1 及 1 里面的内容
- 【2 变成了 3】，2 里面的状态可以就地复用
- 【3 被删除】3 里面所有的东西都删除

## 解决方案：把 ID 作为 Key

## 为什么不能用 index 作为 key?

如果用 index 作为 key,那么在删除第二项的时候，index 就会从 1 2 3 变成 1 2 （因为 index 永远是连续的，所以不可能是 1 3 ），那么 Vue 依然会认为删除的是第三项。

[Vue2.0 v-for 中 :key 到底有什么用？](https://www.zhihu.com/question/61064119)
